<div class="edit-hb-user-form">
	<div class="modal-header">
		<h3 class="modal-title">Edit HomeBank user</h3>
	</div>
	<div class="modal-body">
		<form name="editHBUserForm" novalidate>
			<!-- Username -->
			<div class="form-group">
	    		<label>Username</label>
	    		<input type="text" name="username" ng-init="username=user.username" class="form-control" ng-model="username" disabled>
			</div>
			
			<!-- Firstname -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.firstname.$invalid && !editHBUserForm.firstname.$pristine }">
	    		<label>Firstname</label>
	    		<input type="text" name="firstname" ng-init="firstname=user.firstname" placeholder="Firstname" class="form-control" ng-model="firstname"required>
	    		<p ng-show="editHBUserForm.firstname.$error.required" class="help-block">Firstname is required!</p>
			</div>
			
			<!-- Lastname -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.lastname.$invalid && !editHBUserForm.lastname.$pristine }">
	    		<label>Lastname</label>
	    		<input type="text" name="lastname" ng-init="lastname=user.lastname" placeholder="Lastname" class="form-control" ng-model="lastname"required>
	    		<p ng-show="editHBUserForm.lastname.$error.required" class="help-block">Firstname is required!</p>
			</div>
			
			<!-- CNP -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.CNP.$invalid && !editHBUserForm.CNP.$pristine }">
	    		<label>CNP</label>
	    		<input type="text" name="CNP" ng-init="CNP=user.CNP" placeholder="CNP" class="form-control" ng-model="CNP" ng-pattern="/^[0-9]{13}$/" required>
	    		<p ng-show="editHBUserForm.CNP.$error.pattern" class="help-block">CNP contains 13 digits!</p>
	    		<p ng-show="editHBUserForm.CNP.$error.required" class="help-block">CNP is required!</p>
			</div>
			
			<!-- Email -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.email.$invalid && !editHBUserForm.email.$pristine }">
	    		<label>Email</label>
	    		<input type="text" name="email" ng-init="email=user.email" placeholder="Email" class="form-control" ng-model="email" ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i
" required>
	    		<p ng-show="editHBUserForm.email.$error.pattern" class="help-block">Invalid email format!</p>
	    		<p ng-show="editHBUserForm.email.$error.required" class="help-block">CNP is required!</p>
			</div>
			
			<!-- Address -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.address.$invalid && !editHBUserForm.address.$pristine }">
				<label>Address</label> 
				<textarea name="address" class="form-control" placeholder="Address" ng-init="address=user.address" ng-model="address" ng-maxlength="300" required></textarea>
	    		<p ng-show="editHBUserForm.address.$error.maxlength" class="help-block">Address is too long!</p>
	    		<p ng-show="editHBUserForm.address.$error.required" class="help-block">Address is required!</p>
			</div>
			
			<!-- Telephone -->
			<div class="form-group" ng-class="{ 'has-error' : editHBUserForm.telephone.$invalid && !editHBUserForm.telephone.$pristine }">
	    		<label>Telephone</label>
	    		<input type="text" name="telephone" ng-init="telephone=user.telephone" placeholder="Telephone" class="form-control" ng-model="telephone" ng-pattern="/^\(?\+[0-9]{1,3}\)? ?-?[0-9]{1,3} ?-?[0-9]{3,5} ?-?[0-9]{4}( ?-?[0-9]{3})? ?(\w{1,10}\s?\d{1,6})?$/" required>
	    		<p ng-show="editHBUserForm.telephone.$error.pattern" class="help-block">Telephone format: +XX...X</p>
	    		<p ng-show="editHBUserForm.telephone.$error.required" class="help-block">Telephone is required!</p>
			</div>
			
			<!-- Authentication type -->
			<div class="form-group" ng-class="{ 'has-error' : addHBUserForm.auth_type.$invalid && !addHBUserForm.auth_type.$pristine }">
				<label>Authentication type</label> 
				<select name="auth_type" class="form-control" ng-model="auth_type" required ng-options="item as item for item in authenticationTypeList" ng-init="auth_type=user.auth_type">
				</select>
				<p ng-show="addHBUserForm.auth_type.$error.required" class="help-block">Authentication type is required!</p>
			</div>
			
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" type="button" ng-click="generateNewPassword()">Generate new password</button>
		<button class="btn btn-primary" type="button" ng-disabled="editHBUserForm.$invalid" ng-click="save()">Save</button>
		<button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
	</div>
</div>